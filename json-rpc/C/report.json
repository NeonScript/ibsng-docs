{
  "openrpc": "1.2.1",
  "info": {
    "version": "1.0.0",
    "title": "IBSng: branch C: report"
  },
  "methods": [
    {
      "name": "report.getOnlineUsers",
      "description": "",
      "auth_type": ["ADMIN"],
      "requires_perm": "SEE ONLINE USERS",
      "params": [
        {
          "name": "normal_sort_by",
          "description": "",
          "value": [
            "user_id",
            "normal_username",
            "login_time_epoch",
            "duration_secs",
            "ras_description",
            "ras_ip",
            "isp_name",
            "unique_id_val",
            "current_credit",
            "group_name",
            "attrs_remote_ip",
            "in_bytes",
            "out_bytes",
            "in_rate",
            "out_rate",
            "attrs_mac",
            "attrs_station_ip",
            "attrs_caller_id"
          ]
        },
        {
          "name": "normal_desc",
          "description": "descending",
          "schema": {
            "type": "boolean"
          }
        },
        {
          "name": "voip_sort_by",
          "description": "",
          "value": [
            "user_id",
            "voip_username",
            "login_time_epoch",
            "duration_secs",
            "ras_ip",
            "ras_description",
            "isp_name",
            "unique_id_val",
            "current_credit",
            "called_number",
            "prefix_name",
            "group_name",
            "attrs_caller_id",
            "attrs_caller_ip",
            "attrs_called_ip",
            "voip_provider"
          ]
        },
        {
          "name": "voip_desc",
          "description": "descending",
          "schema": {
            "type": "boolean"
          }
        },
        {
          "name": "conds",
          "description": "",
          "schema": {
            "type": "object"
          }
        }
      ],
      "result": {
        "name": "Response (array)",
        "comment": "",
        "schema": {
          "title": "",
          "type": "array"
        }
      }
    },
    {
      "name": "report.getOnlineUsersCountLoop",
      "description": "with conditions (filters)",
      "auth_type": ["ADMIN"],
      "requires_perm": "SEE ONLINE USERS",
      "params": [
        {
          "name": "conds",
          "description": "the same as getOnlineUsers",
          "schema": {
            "type": "object"
          },
          "optional": true
        }
      ],
      "result": {
        "name": "Response (object)",
        "comment": "",
        "schema": {
          "title": "",
          "type": "object",
          "items": [
            {
              "name": "internet_onlines",
              "description": "",
              "schema": {
                "type": "number"
              }
            },
            {
              "name": "voip_onlines",
              "description": "",
              "schema": {
                "type": "number"
              }
            },
            {
              "name": "re_onlined",
              "description": "",
              "schema": {
                "type": "number"
              }
            },
            {
              "name": "accounting_not_started",
              "description": "",
              "schema": {
                "type": "number"
              }
            },
            {
              "name": "failed_users",
              "description": "",
              "schema": {
                "type": "number"
              }
            },
            {
              "name": "idle_users",
              "description": "",
              "schema": {
                "type": "number"
              }
            },
            {
              "name": "ras_acct_not_started",
              "description": "dict of ras_desc => count",
              "schema": {
                "type": "object"
              }
            },
            {
              "name": "ras_description",
              "description": "dict of ras_desc => count",
              "schema": {
                "type": "object"
              }
            },
            {
              "name": "ras_counters",
              "description": "dict of ras_desc => count_dict",
              "schema": {
                "type": "object"
              }
            },
            {
              "name": "group_name",
              "description": "a dict of group_name => count",
              "schema": {
                "type": "object"
              }
            },
            {
              "name": "isp_name",
              "description": "a dict of isp_name => count",
              "schema": {
                "type": "object"
              }
            }
          ]
        }
      }
    },
    {
      "name": "report.getOnlineUsersCount",
      "description": "without conditions",
      "auth_type": ["ADMIN"],
      "requires_perm": "SEE ONLINE USERS",
      "params": [],
      "result": {
        "name": "Response (object)",
        "comment": "",
        "schema": {
          "title": "",
          "type": "object",
          "items": [
            {
              "name": "internet_onlines",
              "description": "",
              "schema": {
                "type": "number"
              }
            },
            {
              "name": "voip_onlines",
              "description": "",
              "schema": {
                "type": "number"
              }
            },
            {
              "name": "re_onlined",
              "description": "",
              "schema": {
                "type": "number"
              }
            },
            {
              "name": "accounting_not_started",
              "description": "",
              "schema": {
                "type": "number"
              }
            },
            {
              "name": "failed_users",
              "description": "",
              "schema": {
                "type": "number"
              }
            },
            {
              "name": "idle_users",
              "description": "",
              "schema": {
                "type": "number"
              }
            },
            {
              "name": "ras_acct_not_started",
              "description": "dict of ras_desc => count",
              "schema": {
                "type": "object"
              }
            },
            {
              "name": "ras_description",
              "description": "dict of ras_desc => count",
              "schema": {
                "type": "object"
              }
            },
            {
              "name": "ras_counters",
              "description": "dict of ras_desc => count_dict",
              "schema": {
                "type": "object"
              }
            },
            {
              "name": "group_name",
              "description": "a dict of group_name => count",
              "schema": {
                "type": "object"
              }
            },
            {
              "name": "isp_name",
              "description": "a dict of isp_name => count",
              "schema": {
                "type": "object"
              }
            }
          ]
        }
      }
    },
    {
      "name": "report.getOnlineUsersCountPerISP",
      "description": "without conditions",
      "auth_type": ["ADMIN"],
      "requires_perm": "SEE ONLINE USERS",
      "params": [],
      "result": {
        "name": "Response (object)",
        "comment": "",
        "schema": {
          "title": "",
          "type": "object",
          "items": [
            {
              "name": "onlines_per_isp",
              "description": "a dict of isp_id => count",
              "schema": {
                "type": "object"
              }
            }
          ]
        }
      }
    },
    {
      "name": "report.getConnections",
      "description": "Get Connection Logs By Admin",
      "auth_type": ["ADMIN"],
      "requires_perm": "SEE CONNECTION LOGS",
      "params": [
        {
          "name": "conds",
          "description": "",
          "schema": {
            "type": "object"
          }
        },
        {
          "name": "from",
          "description": "start index, for pagination",
          "schema": {
            "type": "number"
          }
        },
        {
          "name": "to",
          "description": "end index, for pagination",
          "schema": {
            "type": "number"
          }
        },
        {
          "name": "sort_by",
          "description": "",
          "value": [
            "user_id",
            "credit_used",
            "login_time",
            "logout_time",
            "successful",
            "service",
            "ras_id",
            "connection_log_id"
          ]
        },
        {
          "name": "desc",
          "description": "descending",
          "schema": {
            "type": "boolean"
          }
        }
      ],
      "result": {
        "name": "Response (object)",
        "comment": "",
        "schema": {
          "title": "",
          "type": "object",
          "items": [
            {
              "name": "total_rows",
              "description": "number of total rows",
              "schema": {
                "type": "number"
              }
            },
            {
              "name": "total_credit",
              "description": "sum of total rows credit",
              "schema": {
                "type": "number"
              }
            },
            {
              "name": "total_duration",
              "description": "sum of total rows duration, in seconds",
              "schema": {
                "type": "number"
              }
            },
            {
              "name": "total_in_bytes",
              "description": "sum of total download, in bytes",
              "schema": {
                "type": "number"
              }
            },
            {
              "name": "total_out_bytes",
              "description": "sum of total upload, in bytes",
              "schema": {
                "type": "number"
              }
            },
            {
              "name": "report",
              "description": "report data of specified page (from - to)",
              "schema": {
                "type": "array",
                "items": {
                  "title": "",
                  "type": "object",
                  "params": [
                    {
                      "name": "connection_log_id",
                      "description": "",
                      "schema": {
                        "type": "number"
                      }
                    },
                    {
                      "name": "user_id",
                      "description": "",
                      "schema": {
                        "type": "string"
                      }
                    },
                    {
                      "name": "service_type",
                      "description": "",
                      "value": ["Internet", "VoIP"]
                    },
                    {
                      "name": "login_time_formatted",
                      "description": "datetime, ",
                      "schema": {
                        "type": "string"
                      }
                    },
                    {
                      "name": "logout_time_formatted",
                      "description": "datetime, ",
                      "schema": {
                        "type": "string"
                      }
                    },
                    {
                      "name": "duration_seconds",
                      "description": "",
                      "schema": {
                        "type": "number"
                      }
                    },
                    {
                      "name": "credit_used",
                      "description": "",
                      "schema": {
                        "type": "number"
                      }
                    },
                    {
                      "name": "before_credit",
                      "description": "",
                      "schema": {
                        "type": "number"
                      }
                    },
                    {
                      "name": "successful",
                      "description": "",
                      "schema": {
                        "type": "boolean"
                      }
                    },
                    {
                      "name": "caller_id",
                      "description": "",
                      "schema": {
                        "type": "string"
                      },
                      "optional": true
                    },
                    {
                      "name": "cpm",
                      "description": "",
                      "schema": {
                        "type": "number"
                      },
                      "optional": true
                    },
                    {
                      "name": "persistent_lan",
                      "description": "",
                      "schema": {
                        "type": "string"
                      },
                      "optional": true
                    },
                    {
                      "name": "kill_reason",
                      "description": "",
                      "schema": {
                        "type": "string"
                      }
                    },
                    {
                      "name": "username",
                      "description": "",
                      "schema": {
                        "type": "string"
                      },
                      "optional": true
                    },
                    {
                      "name": "remote_ip",
                      "description": "",
                      "schema": {
                        "type": "string"
                      },
                      "optional": true
                    },
                    {
                      "name": "mac",
                      "description": "",
                      "schema": {
                        "type": "string"
                      },
                      "optional": true
                    },
                    {
                      "name": "bytes_in",
                      "description": "",
                      "schema": {
                        "type": "number"
                      },
                      "optional": true
                    },
                    {
                      "name": "bytes_out",
                      "description": "",
                      "schema": {
                        "type": "number"
                      },
                      "optional": true
                    },
                    {
                      "name": "station_ip",
                      "description": "",
                      "schema": {
                        "type": "string"
                      },
                      "optional": true
                    },
                    {
                      "name": "details",
                      "description": "",
                      "schema": {
                        "type": "array"
                      }
                    },
                    {
                      "name": "voip_username",
                      "description": "",
                      "schema": {
                        "type": "string"
                      },
                      "optional": true
                    },
                    {
                      "name": "prefix_name",
                      "description": "",
                      "schema": {
                        "type": "string"
                      },
                      "optional": true
                    },
                    {
                      "name": "prefix_cpm",
                      "description": "",
                      "schema": {
                        "type": "number"
                      },
                      "optional": true
                    },
                    {
                      "name": "called_number",
                      "description": "",
                      "schema": {
                        "type": "string"
                      },
                      "optional": true
                    },
                    {
                      "name": "charge_rule_details",
                      "description": "",
                      "schema": {
                        "type": "array"
                      }
                    },
                    {
                      "name": "ras_description",
                      "description": "",
                      "schema": {
                        "type": "string"
                      }
                    },
                    {
                      "name": "ras_ip",
                      "description": "",
                      "schema": {
                        "type": "string"
                      }
                    },
                    {
                      "name": "serial",
                      "description": "",
                      "schema": {
                        "type": "string"
                      }
                    },
                    {
                      "name": "dnis",
                      "description": "",
                      "schema": {
                        "type": "string"
                      },
                      "optional": true
                    },
                    {
                      "name": "called_ip",
                      "description": "",
                      "schema": {
                        "type": "string"
                      },
                      "optional": true
                    },
                    {
                      "name": "prefix_code",
                      "description": "",
                      "schema": {
                        "type": "string"
                      },
                      "optional": true
                    },
                    {
                      "name": "voip_provider_id",
                      "description": "",
                      "schema": {
                        "type": "number"
                      },
                      "optional": true
                    },
                    {
                      "name": "voip_provider",
                      "description": "",
                      "schema": {
                        "type": "string"
                      },
                      "optional": true
                    },
                    {
                      "name": "voip_provider_ip",
                      "description": "",
                      "schema": {
                        "type": "string"
                      },
                      "optional": true
                    },
                    {
                      "name": "voip_provider_credit_used",
                      "description": "",
                      "schema": {
                        "type": "number"
                      },
                      "optional": true
                    },
                    {
                      "name": "voip_provider_prefix_name",
                      "description": "",
                      "schema": {
                        "type": "string"
                      },
                      "optional": true
                    },
                    {
                      "name": "voip_provider_prefix_code",
                      "description": "",
                      "schema": {
                        "type": "string"
                      },
                      "optional": true
                    },
                    {
                      "name": "voip_provider_cpm",
                      "description": "",
                      "schema": {
                        "type": "number"
                      },
                      "optional": true
                    },
                    {
                      "name": "disconnect_cause",
                      "description": "",
                      "schema": {
                        "type": "string"
                      },
                      "optional": true
                    }
                  ]
                }
              }
            }
          ]
        }
      }
    },
    {
      "name": "report.getConnections",
      "description": "Get Connection Logs By Admin",
      "auth_type": ["NORMAL_USER", "VOIP_USER"],
      "params": [
        {
          "name": "conds",
          "description": "",
          "schema": {
            "type": "object"
          }
        },
        {
          "name": "from",
          "description": "start index, for pagination",
          "schema": {
            "type": "number"
          }
        },
        {
          "name": "to",
          "description": "end index, for pagination",
          "schema": {
            "type": "number"
          }
        },
        {
          "name": "sort_by",
          "description": "",
          "value": [
            "credit_used",
            "login_time",
            "logout_time",
            "successful",
            "service",
            "ras_id",
            "connection_log_id"
          ]
        },
        {
          "name": "desc",
          "description": "descending",
          "schema": {
            "type": "boolean"
          }
        }
      ],
      "result": {
        "name": "Response (object)",
        "comment": "",
        "schema": {
          "title": "",
          "type": "object",
          "items": [
            {
              "name": "total_rows",
              "description": "number of total rows",
              "schema": {
                "type": "number"
              }
            },
            {
              "name": "total_credit",
              "description": "sum of total rows credit",
              "schema": {
                "type": "number"
              }
            },
            {
              "name": "total_duration",
              "description": "sum of total rows duration, in seconds",
              "schema": {
                "type": "number"
              }
            },
            {
              "name": "total_in_bytes",
              "description": "sum of total download, in bytes",
              "schema": {
                "type": "number"
              }
            },
            {
              "name": "total_out_bytes",
              "description": "sum of total upload, in bytes",
              "schema": {
                "type": "number"
              }
            },
            {
              "name": "report",
              "description": "report data of specified page (from - to)",
              "schema": {
                "type": "array",
                "items": {
                  "title": "",
                  "type": "object",
                  "params": [
                    {
                      "name": "connection_log_id",
                      "description": "",
                      "schema": {
                        "type": "number"
                      }
                    },
                    {
                      "name": "user_id",
                      "description": "",
                      "schema": {
                        "type": "string"
                      }
                    },
                    {
                      "name": "service_type",
                      "description": "",
                      "value": ["Internet", "VoIP"]
                    },
                    {
                      "name": "login_time_formatted",
                      "description": "datetime, ",
                      "schema": {
                        "type": "string"
                      }
                    },
                    {
                      "name": "logout_time_formatted",
                      "description": "datetime, ",
                      "schema": {
                        "type": "string"
                      }
                    },
                    {
                      "name": "duration_seconds",
                      "description": "",
                      "schema": {
                        "type": "number"
                      }
                    },
                    {
                      "name": "credit_used",
                      "description": "",
                      "schema": {
                        "type": "number"
                      }
                    },
                    {
                      "name": "before_credit",
                      "description": "",
                      "schema": {
                        "type": "number"
                      }
                    },
                    {
                      "name": "successful",
                      "description": "",
                      "schema": {
                        "type": "boolean"
                      }
                    },
                    {
                      "name": "caller_id",
                      "description": "",
                      "schema": {
                        "type": "string"
                      },
                      "optional": true
                    },
                    {
                      "name": "cpm",
                      "description": "",
                      "schema": {
                        "type": "number"
                      },
                      "optional": true
                    },
                    {
                      "name": "persistent_lan",
                      "description": "",
                      "schema": {
                        "type": "string"
                      },
                      "optional": true
                    },
                    {
                      "name": "kill_reason",
                      "description": "",
                      "schema": {
                        "type": "string"
                      }
                    },
                    {
                      "name": "username",
                      "description": "",
                      "schema": {
                        "type": "string"
                      },
                      "optional": true
                    },
                    {
                      "name": "remote_ip",
                      "description": "",
                      "schema": {
                        "type": "string"
                      },
                      "optional": true
                    },
                    {
                      "name": "mac",
                      "description": "",
                      "schema": {
                        "type": "string"
                      },
                      "optional": true
                    },
                    {
                      "name": "bytes_in",
                      "description": "",
                      "schema": {
                        "type": "number"
                      },
                      "optional": true
                    },
                    {
                      "name": "bytes_out",
                      "description": "",
                      "schema": {
                        "type": "number"
                      },
                      "optional": true
                    },
                    {
                      "name": "station_ip",
                      "description": "",
                      "schema": {
                        "type": "string"
                      },
                      "optional": true
                    },
                    {
                      "name": "details",
                      "description": "",
                      "schema": {
                        "type": "array"
                      }
                    },
                    {
                      "name": "voip_username",
                      "description": "",
                      "schema": {
                        "type": "string"
                      },
                      "optional": true
                    },
                    {
                      "name": "prefix_name",
                      "description": "",
                      "schema": {
                        "type": "string"
                      },
                      "optional": true
                    },
                    {
                      "name": "prefix_cpm",
                      "description": "",
                      "schema": {
                        "type": "number"
                      },
                      "optional": true
                    },
                    {
                      "name": "called_number",
                      "description": "",
                      "schema": {
                        "type": "string"
                      },
                      "optional": true
                    }
                  ]
                }
              }
            }
          ]
        }
      }
    },
    {
      "name": "report.getINConnections",
      "description": "",
      "auth_type": ["ADMIN"],
      "requires_perm": "SEE CONNECTION LOGS",
      "params": [
        {
          "name": "conds",
          "description": "the same as 'report.getConnections' method, plus caller_id",
          "schema": {
            "type": "object"
          }
        },
        {
          "name": "from",
          "description": "start index, for pagination",
          "schema": {
            "type": "number"
          }
        },
        {
          "name": "to",
          "description": "end index, for pagination",
          "schema": {
            "type": "number"
          }
        },
        {
          "name": "sort_by",
          "description": "",
          "value": [
            "credit_used",
            "login_time",
            "logout_time",
            "successful",
            "service",
            "ras_id",
            "connection_log_id"
          ]
        },
        {
          "name": "desc",
          "description": "descending",
          "schema": {
            "type": "boolean"
          }
        }
      ],
      "result": {
        "name": "Response (object)",
        "comment": "the same as 'report.getConnections' method",
        "schema": {
          "title": "",
          "type": "object"
        }
      }
    },
    {
      "name": "report.getDurations",
      "description": "",
      "auth_type": ["ADMIN", "NORMAL_USER", "VOIP_USER"],
      "requires_perm": "SEE CONNECTION LOGS",
      "params": [
        {
          "name": "conds",
          "description": "the same as 'report.getConnections' method",
          "schema": {
            "type": "object"
          }
        }
      ],
      "result": {
        "name": "Response (array)",
        "comment": "",
        "schema": {
          "title": "",
          "type": "array"
        }
      }
    },
    {
      "name": "report.getGroupUsages",
      "description": "",
      "auth_type": ["ADMIN"],
      "requires_perm": "SEE CONNECTION LOGS",
      "params": [
        {
          "name": "conds",
          "description": "the same as 'report.getConnections' method",
          "schema": {
            "type": "object"
          }
        }
      ],
      "result": {
        "name": "Response (array)",
        "comment": "",
        "schema": {
          "title": "",
          "type": "array"
        }
      }
    },
    {
      "name": "report.getRasUsages",
      "description": "",
      "auth_type": ["ADMIN"],
      "requires_perm": "SEE CONNECTION LOGS",
      "params": [
        {
          "name": "conds",
          "description": "the same as 'report.getConnections' method",
          "schema": {
            "type": "object"
          }
        }
      ],
      "result": {
        "name": "Response (array)",
        "comment": "",
        "schema": {
          "title": "",
          "type": "array"
        }
      }
    },
    {
      "name": "report.getVoIPDisconnectCauses",
      "description": "",
      "auth_type": ["ADMIN"],
      "requires_perm": "SEE CONNECTION LOGS",
      "params": [
        {
          "name": "conds",
          "description": "the same as 'report.getConnections' method",
          "schema": {
            "type": "object"
          }
        }
      ],
      "result": {
        "name": "Response (array)",
        "comment": "",
        "schema": {
          "title": "",
          "type": "array"
        }
      }
    },
    {
      "name": "report.getSuccessfulCounts",
      "description": "",
      "auth_type": ["ADMIN"],
      "requires_perm": "SEE CONNECTION LOGS",
      "params": [
        {
          "name": "conds",
          "description": "the same as 'report.getConnections' method",
          "schema": {
            "type": "object"
          }
        }
      ],
      "result": {
        "name": "Response (array)",
        "comment": "",
        "schema": {
          "title": "",
          "type": "array"
        }
      }
    },
    {
      "name": "report.getISPUsages",
      "description": "",
      "auth_type": ["ADMIN"],
      "requires_perm": "SEE CONNECTION LOGS",
      "params": [
        {
          "name": "conds",
          "description": "the same as 'report.getConnections' method",
          "schema": {
            "type": "object"
          }
        }
      ],
      "result": {
        "name": "Response (array)",
        "comment": "",
        "schema": {
          "title": "",
          "type": "array"
        }
      }
    },
    {
      "name": "report.getInOutUsages",
      "description": "",
      "auth_type": ["ADMIN"],
      "requires_perm": "SEE CONNECTION LOGS",
      "params": [
        {
          "name": "conds",
          "description": "the same as 'report.getConnections' method",
          "schema": {
            "type": "object"
          }
        },
        {
          "name": "from",
          "description": "start index, for pagination",
          "schema": {
            "type": "number"
          }
        },
        {
          "name": "to",
          "description": "end index, for pagination",
          "schema": {
            "type": "number"
          }
        },
        {
          "name": "order_by",
          "description": "",
          "value": ["creation_date", "normal_username", "sum"]
        }
      ],
      "result": {
        "name": "Response (object)",
        "comment": "",
        "schema": {
          "title": "",
          "type": "object",
          "items": [
            {
              "name": "total_rows",
              "description": "Number of total rows",
              "schema": {
                "type": "number"
              }
            },
            {
              "name": "report",
              "description": "",
              "schema": {
                "type": "array",
                "items": {
                  "title": "",
                  "type": "list"
                }
              }
            }
          ]
        }
      }
    },
    {
      "name": "report.getCreditUsages",
      "description": "",
      "auth_type": ["ADMIN"],
      "requires_perm": "SEE CONNECTION LOGS",
      "params": [
        {
          "name": "conds",
          "description": "the same as 'report.getConnections' method",
          "schema": {
            "type": "object"
          }
        },
        {
          "name": "from",
          "description": "start index, for pagination",
          "schema": {
            "type": "number"
          }
        },
        {
          "name": "to",
          "description": "end index, for pagination",
          "schema": {
            "type": "number"
          }
        },
        {
          "name": "order_by",
          "description": "",
          "value": ["creation_date", "normal_username", "sum"]
        }
      ],
      "result": {
        "name": "Response (object)",
        "comment": "",
        "schema": {
          "title": "",
          "type": "object",
          "items": [
            {
              "name": "total_rows",
              "description": "Number of total rows",
              "schema": {
                "type": "number"
              }
            },
            {
              "name": "report",
              "description": "",
              "schema": {
                "type": "array",
                "items": {
                  "title": "",
                  "type": "list"
                }
              }
            }
          ]
        }
      }
    },
    {
      "name": "report.getDurationUsages",
      "description": "",
      "auth_type": ["ADMIN"],
      "requires_perm": "SEE CONNECTION LOGS",
      "params": [
        {
          "name": "conds",
          "description": "the same as 'report.getConnections' method",
          "schema": {
            "type": "object"
          }
        },
        {
          "name": "from",
          "description": "start index, for pagination",
          "schema": {
            "type": "number"
          }
        },
        {
          "name": "to",
          "description": "end index, for pagination",
          "schema": {
            "type": "number"
          }
        },
        {
          "name": "order_by",
          "description": "",
          "value": ["creation_date", "normal_username", "sum"]
        }
      ],
      "result": {
        "name": "Response (object)",
        "comment": "",
        "schema": {
          "title": "",
          "type": "object",
          "items": [
            {
              "name": "total_rows",
              "description": "Number of total rows",
              "schema": {
                "type": "number"
              }
            },
            {
              "name": "report",
              "description": "",
              "schema": {
                "type": "array",
                "items": {
                  "title": "",
                  "type": "list"
                }
              }
            }
          ]
        }
      }
    },
    {
      "name": "report.getConnectionUsages",
      "description": "",
      "auth_type": ["ADMIN"],
      "requires_perm": "SEE CONNECTION LOGS",
      "params": [
        {
          "name": "conds",
          "description": "the same as 'report.getConnections' method",
          "schema": {
            "type": "object"
          }
        },
        {
          "name": "from",
          "description": "start index, for pagination",
          "schema": {
            "type": "number"
          }
        },
        {
          "name": "to",
          "description": "end index, for pagination",
          "schema": {
            "type": "number"
          }
        },
        {
          "name": "order_by",
          "description": "",
          "value": [
            "total_credit",
            "total_duration",
            "total_in_bytes",
            "total_out_bytes"
          ]
        }
      ],
      "result": {
        "name": "Response (object)",
        "comment": "",
        "schema": {
          "title": "",
          "type": "object",
          "items": [
            {
              "name": "total_rows",
              "description": "Number of total rows",
              "schema": {
                "type": "number"
              }
            },
            {
              "name": "report",
              "description": "",
              "schema": {
                "type": "array",
                "items": {
                  "title": "",
                  "type": "object",
                  "params": [
                    {
                      "name": "user_id",
                      "description": "User ID",
                      "schema": {
                        "type": "number"
                      }
                    },
                    {
                      "name": "username",
                      "description": "User username",
                      "schema": {
                        "type": "string"
                      }
                    },
                    {
                      "name": "serial",
                      "description": "User serial",
                      "schema": {
                        "type": "string"
                      }
                    },
                    {
                      "name": "group_name",
                      "description": "User group name",
                      "schema": {
                        "type": "string"
                      }
                    },
                    {
                      "name": "isp_name",
                      "description": "User ISP name",
                      "schema": {
                        "type": "string"
                      }
                    },
                    {
                      "name": "creation_date",
                      "description": "User creation date",
                      "schema": {
                        "type": "string"
                      }
                    },
                    {
                      "name": "name",
                      "description": "Name of user",
                      "schema": {
                        "type": "string"
                      }
                    },
                    {
                      "name": "sub_service_name",
                      "description": "Sub service name",
                      "schema": {
                        "type": "string"
                      }
                    },
                    {
                      "name": "sub_service_charging",
                      "description": "Sub service charging name",
                      "schema": {
                        "type": "string"
                      }
                    },
                    {
                      "name": "seb_service_qos",
                      "description": "Sub service QOS name",
                      "schema": {
                        "type": "string"
                      }
                    },
                    {
                      "name": "total_credit",
                      "description": "Total credit",
                      "schema": {
                        "type": "number"
                      }
                    },
                    {
                      "name": "total_duration",
                      "description": "Total duration",
                      "schema": {
                        "type": "number"
                      }
                    },
                    {
                      "name": "total_in_bytes",
                      "description": "Total in bytes",
                      "schema": {
                        "type": "number"
                      }
                    },
                    {
                      "name": "total_out_bytes",
                      "description": "Total out bytes",
                      "schema": {
                        "type": "number"
                      }
                    }
                  ]
                }
              }
            }
          ]
        }
      }
    },
    {
      "name": "report.getExpiredUsers",
      "description": "",
      "auth_type": ["ADMIN"],
      "requires_perm": "SEE CONNECTION LOGS",
      "params": [
        {
          "name": "conds",
          "description": "the same as user.searchUser",
          "schema": {
            "type": "object"
          }
        },
        {
          "name": "from",
          "description": "start index",
          "schema": {
            "type": "number"
          }
        },
        {
          "name": "to",
          "description": "end index",
          "schema": {
            "type": "number"
          }
        },
        {
          "name": "sort_by",
          "description": "",
          "value": [
            "user_id",
            "normal_username",
            "voip_username",
            "group_id",
            "owner_id",
            "creation_date",
            "credit",
            "deposit",
            "first_login",
            "serial",
            "serial_numeric"
          ],
          "value_comment": {
            "owner_id": "owner isp id"
          }
        },
        {
          "name": "desc",
          "description": "descending",
          "schema": {
            "type": "boolean"
          }
        }
      ],
      "result": {
        "name": "Response (array)",
        "comment": "",
        "schema": {
          "title": "",
          "type": "array"
        }
      }
    },
    {
      "name": "report.getPrefixNameUsage",
      "description": "",
      "auth_type": ["ADMIN"],
      "requires_perm": "SEE CONNECTION LOGS",
      "params": [
        {
          "name": "conds",
          "description": "the same as 'report.getConnections' method",
          "schema": {
            "type": "object"
          }
        },
        {
          "name": "from",
          "description": "start index, for pagination",
          "schema": {
            "type": "number"
          }
        },
        {
          "name": "to",
          "description": "end index, for pagination",
          "schema": {
            "type": "number"
          }
        },
        {
          "name": "order_by",
          "description": "",
          "value": [
            "prefix_name",
            "prefix_code",
            "duration_sum",
            "count",
            "credit"
          ]
        },
        {
          "name": "desc",
          "description": "descending",
          "schema": {
            "type": "boolean"
          }
        }
      ],
      "result": {
        "name": "Response (object)",
        "comment": "",
        "schema": {
          "title": "",
          "type": "object",
          "items": [
            {
              "name": "total_rows",
              "description": "total number of rows",
              "schema": {
                "type": "number"
              }
            },
            {
              "name": "report",
              "description": "",
              "schema": {
                "type": "array",
                "items": {
                  "title": "",
                  "type": "list"
                }
              }
            }
          ]
        }
      }
    },
    {
      "name": "report.getCallerIDUsages",
      "description": "",
      "auth_type": ["ADMIN"],
      "requires_perm": "SEE CONNECTION LOGS",
      "params": [
        {
          "name": "conds",
          "description": "the same as 'report.getConnections' method",
          "schema": {
            "type": "object"
          }
        },
        {
          "name": "from",
          "description": "start index, for pagination",
          "schema": {
            "type": "number"
          }
        },
        {
          "name": "to",
          "description": "end index, for pagination",
          "schema": {
            "type": "number"
          }
        },
        {
          "name": "order_by",
          "description": "",
          "value": ["creation_date", "normal_username", "sum"]
        }
      ],
      "result": {
        "name": "Response (object)",
        "comment": "",
        "schema": {
          "title": "",
          "type": "object",
          "items": [
            {
              "name": "total_rows",
              "description": "Number of total rows",
              "schema": {
                "type": "number"
              }
            },
            {
              "name": "report",
              "description": "",
              "schema": {
                "type": "array",
                "items": {
                  "title": "",
                  "type": "list"
                }
              }
            }
          ]
        }
      }
    },
    {
      "name": "report.getCreditChanges",
      "description": "Admin-View Credit Changes",
      "auth_type": ["ADMIN"],
      "requires_perm": "SEE CREDIT CHANGES",
      "params": [
        {
          "name": "conds",
          "description": "",
          "schema": {
            "type": "object"
          }
        },
        {
          "name": "from",
          "description": "start index, for pagination",
          "schema": {
            "type": "number"
          }
        },
        {
          "name": "to",
          "description": "end index, for pagination",
          "schema": {
            "type": "number"
          }
        },
        {
          "name": "sort_by",
          "description": "",
          "value": ["change_time", "per_user_credit", "isp_credit"]
        },
        {
          "name": "desc",
          "description": "descending",
          "schema": {
            "type": "boolean"
          }
        }
      ],
      "result": {
        "name": "Response (object)",
        "comment": "",
        "schema": {
          "title": "",
          "type": "object",
          "items": [
            {
              "name": "total_rows",
              "description": "Number of total rows",
              "schema": {
                "type": "number"
              }
            },
            {
              "name": "report",
              "description": "",
              "schema": {
                "type": "array",
                "items": {
                  "title": "",
                  "type": "list"
                }
              }
            },
            {
              "name": "total_per_user_credit",
              "description": "",
              "schema": {
                "type": "number"
              }
            },
            {
              "name": "total_admin_credit",
              "description": "",
              "schema": {
                "type": "number"
              }
            }
          ]
        }
      }
    },
    {
      "name": "report.getCreditChanges",
      "description": "User-View Credit Changes",
      "auth_type": ["ADMIN"],
      "requires_perm": "SEE CREDIT CHANGES",
      "params": [
        {
          "name": "conds",
          "description": "",
          "schema": {
            "type": "object"
          }
        },
        {
          "name": "from",
          "description": "start index, for pagination",
          "schema": {
            "type": "number"
          }
        },
        {
          "name": "to",
          "description": "end index, for pagination",
          "schema": {
            "type": "number"
          }
        },
        {
          "name": "sort_by",
          "description": "",
          "value": ["change_time", "per_user_credit", "isp_credit"]
        },
        {
          "name": "desc",
          "description": "descending",
          "schema": {
            "type": "boolean"
          }
        }
      ],
      "result": {
        "name": "Response (object)",
        "comment": "",
        "schema": {
          "title": "",
          "type": "object",
          "items": [
            {
              "name": "total_rows",
              "description": "Number of total rows",
              "schema": {
                "type": "number"
              }
            },
            {
              "name": "report",
              "description": "",
              "schema": {
                "type": "array",
                "items": {
                  "title": "",
                  "type": "list"
                }
              }
            },
            {
              "name": "total_per_user_credit",
              "description": "",
              "schema": {
                "type": "number"
              }
            },
            {
              "name": "total_admin_credit",
              "description": "",
              "schema": {
                "type": "number"
              }
            }
          ]
        }
      }
    },
    {
      "name": "report.getCreditChanges",
      "description": "User-View Credit Changes by User",
      "auth_type": ["NORMAL_USER", "VOIP_USER"],
      "requires_perm": "SEE CREDIT CHANGES",
      "params": [
        {
          "name": "conds",
          "description": "",
          "schema": {
            "type": "object"
          }
        },
        {
          "name": "from",
          "description": "start index, for pagination",
          "schema": {
            "type": "number"
          }
        },
        {
          "name": "to",
          "description": "end index, for pagination",
          "schema": {
            "type": "number"
          }
        },
        {
          "name": "sort_by",
          "description": "",
          "value": ["change_time", "per_user_credit"]
        },
        {
          "name": "desc",
          "description": "descending",
          "schema": {
            "type": "boolean"
          }
        }
      ],
      "result": {
        "name": "Response (object)",
        "comment": "",
        "schema": {
          "title": "",
          "type": "object",
          "items": [
            {
              "name": "total_rows",
              "description": "Number of total rows",
              "schema": {
                "type": "number"
              }
            },
            {
              "name": "report",
              "description": "",
              "schema": {
                "type": "array",
                "items": {
                  "title": "",
                  "type": "list"
                }
              }
            },
            {
              "name": "total_per_user_credit",
              "description": "",
              "schema": {
                "type": "number"
              }
            },
            {
              "name": "total_isp_credit",
              "description": "",
              "schema": {
                "type": "number"
              }
            }
          ]
        }
      }
    },
    {
      "name": "report.saveCreditChanges",
      "description": "use SystemNotification.getNotifications() method to see if the report is finished         and get the URL to download it",
      "auth_type": ["ADMIN"],
      "requires_perm": "SEE CREDIT CHANGES",
      "params": [
        {
          "name": "conds",
          "description": "the same as getCreditChanges",
          "schema": {
            "type": "object"
          }
        },
        {
          "name": "cols",
          "description": "",
          "schema": {
            "type": "array",
            "items": {
              "title": "",
              "value": [
                "action",
                "action_text",
                "admin_id",
                "admin_name",
                "change_time",
                "change_time_formatted",
                "comment",
                "credit_change_id",
                "isp_credit",
                "isp_id",
                "isp_name",
                "per_user_credit",
                "remote_addr",
                "user_id",
                "username",
                "name",
                "serial",
                "group",
                "group_id",
                "before_credit",
                "user_ids"
              ],
              "value_comment": {
                "user_id": "in user_view mode only",
                "username": "in user_view mode only",
                "name": "in user_view mode only",
                "serial": "in user_view mode only",
                "group": "in user_view mode only",
                "group_id": "in user_view mode only",
                "before_credit": "in user_view mode only",
                "user_ids": "in admin-view only (no user_view in conds) "
              }
            }
          }
        },
        {
          "name": "sort_by",
          "description": "",
          "value": ["change_time", "per_user_credit", "isp_credit"]
        },
        {
          "name": "desc",
          "description": "descending",
          "schema": {
            "type": "boolean"
          }
        },
        {
          "name": "output_type",
          "description": "",
          "value": ["csv", "pdf"]
        }
      ],
      "result": {
        "name": "Response (null)",
        "comment": "",
        "schema": {
          "title": "",
          "type": "null"
        }
      }
    },
    {
      "name": "report.getUserDepositChanges",
      "description": "by admin",
      "auth_type": ["ADMIN"],
      "requires_perm": "SEE USER DEPOSIT CHANGES",
      "params": [
        {
          "name": "conds",
          "description": "",
          "schema": {
            "type": "object"
          }
        },
        {
          "name": "from",
          "description": "start index, for pagination",
          "schema": {
            "type": "number"
          }
        },
        {
          "name": "to",
          "description": "end index, for pagination",
          "schema": {
            "type": "number"
          }
        },
        {
          "name": "sort_by",
          "description": "",
          "value": ["change_time", "user_id", "deposit_change"]
        },
        {
          "name": "desc",
          "description": "descending",
          "schema": {
            "type": "boolean"
          }
        }
      ],
      "result": {
        "name": "Response (object)",
        "comment": "",
        "schema": {
          "title": "",
          "type": "object",
          "items": [
            {
              "name": "total_rows",
              "description": "",
              "schema": {
                "type": "number"
              }
            },
            {
              "name": "total_deposit",
              "description": "",
              "schema": {
                "type": "number"
              }
            },
            {
              "name": "report",
              "description": "",
              "schema": {
                "type": "array",
                "items": {
                  "title": "",
                  "type": "object",
                  "params": [
                    {
                      "name": "action",
                      "description": "1 to 10",
                      "schema": {
                        "type": "number"
                      }
                    },
                    {
                      "name": "action_text",
                      "description": "",
                      "value": [
                        "ADD_USER",
                        "CHANGE_DEPOSIT",
                        "DEL_USER",
                        "ONLINE_PAYMENT",
                        "DEPOSIT_TRANSFER",
                        "AUTO_RENEW",
                        "RECEIVE_DEPOSIT_TRANSFER",
                        "AUTO_RECHARGE",
                        "EXTRA_CHARGE",
                        "VOUCHER"
                      ]
                    },
                    {
                      "name": "admin_id",
                      "description": "",
                      "schema": {
                        "type": "number"
                      }
                    },
                    {
                      "name": "admin_name",
                      "description": "",
                      "schema": {
                        "type": "string"
                      }
                    },
                    {
                      "name": "change_time",
                      "description": "gregorian",
                      "schema": {
                        "type": "string"
                      }
                    },
                    {
                      "name": "change_time_formatted",
                      "description": "depends on input date_type",
                      "schema": {
                        "type": "string"
                      }
                    },
                    {
                      "name": "comment",
                      "description": "",
                      "schema": {
                        "type": "string"
                      }
                    },
                    {
                      "name": "deposit_change",
                      "description": "",
                      "schema": {
                        "type": "number"
                      }
                    },
                    {
                      "name": "deposit_change_id",
                      "description": "",
                      "schema": {
                        "type": "number"
                      }
                    },
                    {
                      "name": "group_name",
                      "description": "",
                      "schema": {
                        "type": "string"
                      }
                    },
                    {
                      "name": "isp_id",
                      "description": "",
                      "schema": {
                        "type": "number"
                      }
                    },
                    {
                      "name": "isp_name",
                      "description": "",
                      "schema": {
                        "type": "string"
                      }
                    },
                    {
                      "name": "remote_addr",
                      "description": "Remote IP",
                      "schema": {
                        "type": "string"
                      }
                    },
                    {
                      "name": "user_id",
                      "description": "",
                      "schema": {
                        "type": "number"
                      }
                    },
                    {
                      "name": "username",
                      "description": "",
                      "schema": {
                        "type": "string"
                      }
                    }
                  ]
                }
              }
            }
          ]
        }
      }
    },
    {
      "name": "report.getUserDepositChanges",
      "description": "by user",
      "auth_type": ["NORMAL_USER", "VOIP_USER"],
      "params": [
        {
          "name": "conds",
          "description": "",
          "schema": {
            "type": "object"
          }
        },
        {
          "name": "from",
          "description": "start index, for pagination",
          "schema": {
            "type": "number"
          }
        },
        {
          "name": "to",
          "description": "end index, for pagination",
          "schema": {
            "type": "number"
          }
        },
        {
          "name": "sort_by",
          "description": "",
          "value": ["change_time", "user_id", "deposit_change"]
        },
        {
          "name": "desc",
          "description": "descending",
          "schema": {
            "type": "boolean"
          }
        }
      ],
      "result": {
        "name": "Response (object)",
        "comment": "",
        "schema": {
          "title": "",
          "type": "object",
          "items": [
            {
              "name": "total_rows",
              "description": "",
              "schema": {
                "type": "number"
              }
            },
            {
              "name": "total_deposit",
              "description": "",
              "schema": {
                "type": "number"
              }
            },
            {
              "name": "report",
              "description": "",
              "schema": {
                "type": "array",
                "items": {
                  "title": "",
                  "type": "object",
                  "params": [
                    {
                      "name": "action",
                      "description": "1 to 10",
                      "schema": {
                        "type": "number"
                      }
                    },
                    {
                      "name": "action_text",
                      "description": "",
                      "value": [
                        "ADD_USER",
                        "CHANGE_DEPOSIT",
                        "DEL_USER",
                        "ONLINE_PAYMENT",
                        "DEPOSIT_TRANSFER",
                        "AUTO_RENEW",
                        "RECEIVE_DEPOSIT_TRANSFER",
                        "AUTO_RECHARGE",
                        "EXTRA_CHARGE",
                        "VOUCHER"
                      ]
                    },
                    {
                      "name": "change_time",
                      "description": "gregorian",
                      "schema": {
                        "type": "string"
                      }
                    },
                    {
                      "name": "change_time_formatted",
                      "description": "depends on input date_type",
                      "schema": {
                        "type": "string"
                      }
                    },
                    {
                      "name": "comment",
                      "description": "",
                      "schema": {
                        "type": "string"
                      }
                    },
                    {
                      "name": "deposit_change",
                      "description": "",
                      "schema": {
                        "type": "number"
                      }
                    },
                    {
                      "name": "deposit_change_id",
                      "description": "",
                      "schema": {
                        "type": "number"
                      }
                    },
                    {
                      "name": "group_name",
                      "description": "",
                      "schema": {
                        "type": "string"
                      }
                    },
                    {
                      "name": "user_id",
                      "description": "",
                      "schema": {
                        "type": "number"
                      }
                    },
                    {
                      "name": "username",
                      "description": "",
                      "schema": {
                        "type": "string"
                      }
                    }
                  ]
                }
              }
            }
          ]
        }
      }
    },
    {
      "name": "report.getUserAuditLogs",
      "description": "",
      "auth_type": ["ADMIN"],
      "params": [
        {
          "name": "conds",
          "description": "",
          "schema": {
            "type": "object"
          }
        },
        {
          "name": "from",
          "description": "",
          "schema": {
            "type": "number"
          }
        },
        {
          "name": "to",
          "description": "",
          "schema": {
            "type": "number"
          }
        },
        {
          "name": "sort_by",
          "description": "",
          "value": ["change_time", "object_id", "admin_id"]
        },
        {
          "name": "desc",
          "description": "descending",
          "schema": {
            "type": "boolean"
          }
        }
      ],
      "result": {
        "name": "Response (object)",
        "comment": "",
        "schema": {
          "title": "",
          "type": "object",
          "items": [
            {
              "name": "total_rows",
              "description": "number of total rows",
              "schema": {
                "type": "number"
              }
            },
            {
              "name": "report",
              "description": "",
              "schema": {
                "type": "array",
                "items": {
                  "title": "",
                  "type": "object",
                  "params": [
                    {
                      "name": "admin_id",
                      "description": "",
                      "schema": {
                        "type": "number"
                      }
                    },
                    {
                      "name": "admin_name",
                      "description": "",
                      "schema": {
                        "type": "string"
                      }
                    },
                    {
                      "name": "attr_name",
                      "description": "",
                      "schema": {
                        "type": "string"
                      }
                    },
                    {
                      "name": "change_time",
                      "description": "gregorian",
                      "schema": {
                        "type": "string"
                      }
                    },
                    {
                      "name": "change_time_formatted",
                      "description": "depending on input date_type",
                      "schema": {
                        "type": "string"
                      }
                    },
                    {
                      "name": "is_user",
                      "description": "",
                      "value": ["t", "f"],
                      "value_comment": {
                        "t": "true / yes",
                        "f": "false / no"
                      }
                    },
                    {
                      "name": "new_value",
                      "description": "",
                      "schema": {
                        "type": "string"
                      }
                    },
                    {
                      "name": "object_id",
                      "description": "",
                      "schema": {
                        "type": "number"
                      }
                    },
                    {
                      "name": "old_value",
                      "description": "",
                      "schema": {
                        "type": "string"
                      }
                    },
                    {
                      "name": "remote_ip",
                      "description": "",
                      "schema": {
                        "type": "string"
                      }
                    },
                    {
                      "name": "user_audit_log",
                      "description": "log id",
                      "schema": {
                        "type": "number"
                      }
                    },
                    {
                      "name": "username",
                      "description": "only exists in user-mode (is_user=yes)",
                      "schema": {
                        "type": "string"
                      },
                      "optional": true
                    }
                  ]
                }
              }
            }
          ]
        }
      }
    },
    {
      "name": "report.getRequestCount",
      "description": "number of admin requests for each minute in the last hour",
      "auth_type": ["ADMIN"],
      "requires_perm": "GOD",
      "params": [],
      "result": {
        "name": "Response (object)",
        "comment": "a dict of timestamp (for each minute) to request_dict",
        "schema": {
          "title": "",
          "type": "object"
        }
      }
    },
    {
      "name": "report.getRequestTopStats",
      "description": "",
      "auth_type": ["ADMIN"],
      "requires_perm": "GOD",
      "params": [
        {
          "name": "order_by",
          "description": "",
          "value": ["count", "average_duration", "total_duration"]
        }
      ],
      "result": {
        "name": "Response (array)",
        "comment": "",
        "schema": {
          "title": "",
          "type": "array"
        }
      }
    },
    {
      "name": "report.getISPDepositChangeLogs",
      "description": "",
      "auth_type": ["ADMIN"],
      "requires_perm": "SEE DEPOSIT CHANGES",
      "params": [
        {
          "name": "conds",
          "description": "",
          "schema": {
            "type": "object"
          }
        },
        {
          "name": "from",
          "description": "start index, for pagination",
          "schema": {
            "type": "number"
          }
        },
        {
          "name": "to",
          "description": "end index, for pagination",
          "schema": {
            "type": "number"
          }
        },
        {
          "name": "sort_by",
          "description": "",
          "value": [
            "isp_deposit_change_admin_id",
            "isp_deposit_change_isp_id",
            "isp_deposit_change_time",
            "isp_deposit_change_amount"
          ]
        },
        {
          "name": "desc",
          "description": "descending",
          "schema": {
            "type": "boolean"
          }
        }
      ],
      "result": {
        "name": "Response (object)",
        "comment": "",
        "schema": {
          "title": "",
          "type": "object",
          "items": [
            {
              "name": "total_rows",
              "description": "number of total rows",
              "schema": {
                "type": "number"
              }
            },
            {
              "name": "total_deposit_change",
              "description": "total/sum of deposit change amounts",
              "schema": {
                "type": "number"
              }
            },
            {
              "name": "report",
              "description": "",
              "schema": {
                "type": "array",
                "items": {
                  "title": "",
                  "type": "object",
                  "params": [
                    {
                      "name": "isp_deposit_before_change",
                      "description": "",
                      "schema": {
                        "type": "number"
                      }
                    },
                    {
                      "name": "isp_deposit_change_action",
                      "description": "",
                      "value": [
                        "ADD_ISP",
                        "CHANGE_ISP_DEPOSIT",
                        "DEL_ISP",
                        "PENALTY"
                      ]
                    },
                    {
                      "name": "isp_deposit_change_admin_id",
                      "description": "Admin ID",
                      "schema": {
                        "type": "number"
                      }
                    },
                    {
                      "name": "isp_deposit_change_admin_isp_id",
                      "description": "Admin's Owner ISP ID",
                      "schema": {
                        "type": "number"
                      }
                    },
                    {
                      "name": "isp_deposit_change_admin_isp_name",
                      "description": "Admin's Owner ISP Name",
                      "schema": {
                        "type": "string"
                      }
                    },
                    {
                      "name": "isp_deposit_change_admin_name",
                      "description": "Admin Username",
                      "schema": {
                        "type": "string"
                      }
                    },
                    {
                      "name": "isp_deposit_change_amount",
                      "description": "Changed Amount",
                      "schema": {
                        "type": "number"
                      }
                    },
                    {
                      "name": "isp_deposit_change_comment",
                      "description": "Comment",
                      "schema": {
                        "type": "string"
                      }
                    },
                    {
                      "name": "isp_deposit_change_id",
                      "description": "",
                      "schema": {
                        "type": "number"
                      }
                    },
                    {
                      "name": "isp_deposit_change_isp_id",
                      "description": "ISP ID",
                      "schema": {
                        "type": "number"
                      }
                    },
                    {
                      "name": "isp_deposit_change_isp_name",
                      "description": "ISP Name",
                      "schema": {
                        "type": "string"
                      }
                    },
                    {
                      "name": "isp_deposit_change_remote_addr",
                      "description": "Admin's Remote IP",
                      "schema": {
                        "type": "string"
                      }
                    },
                    {
                      "name": "isp_deposit_change_time",
                      "description": "Change time, gregorian",
                      "schema": {
                        "type": "string"
                      }
                    },
                    {
                      "name": "isp_deposit_change_time_formatted",
                      "description": "datetime, Change time, depending on input date_type",
                      "schema": {
                        "type": "string"
                      }
                    }
                  ]
                }
              }
            }
          ]
        }
      }
    },
    {
      "name": "report.getTemporaryExtendLogs",
      "description": "",
      "auth_type": ["ADMIN"],
      "requires_perm": "TEMPORARY EXTEND",
      "params": [
        {
          "name": "conds",
          "description": "",
          "schema": {
            "type": "object"
          }
        },
        {
          "name": "from",
          "description": "start index, for pagination",
          "schema": {
            "type": "number"
          }
        },
        {
          "name": "to",
          "description": "end index, for pagination",
          "schema": {
            "type": "number"
          }
        },
        {
          "name": "sort_by",
          "description": "",
          "value": [
            "temporary_extend_date",
            "user_id",
            "temporary_extend_hours",
            "credit_usage"
          ]
        },
        {
          "name": "desc",
          "description": "descending",
          "schema": {
            "type": "boolean"
          }
        }
      ],
      "result": {
        "name": "Response (object)",
        "comment": "",
        "schema": {
          "title": "",
          "type": "object",
          "items": [
            {
              "name": "total_rows",
              "description": "number of total rows",
              "schema": {
                "type": "number"
              }
            },
            {
              "name": "report",
              "description": "",
              "schema": {
                "type": "array",
                "items": {
                  "title": "",
                  "type": "object",
                  "params": [
                    {
                      "name": "credit_usage",
                      "description": "",
                      "schema": {
                        "type": "number"
                      }
                    },
                    {
                      "name": "duration_seconds",
                      "description": "",
                      "schema": {
                        "type": "number"
                      }
                    },
                    {
                      "name": "finish_date",
                      "description": "",
                      "schema": {
                        "type": "string"
                      }
                    },
                    {
                      "name": "finish_date_formatted",
                      "description": "",
                      "schema": {
                        "type": "string"
                      }
                    },
                    {
                      "name": "temporary_extend_credit",
                      "description": "",
                      "schema": {
                        "type": "number"
                      }
                    },
                    {
                      "name": "temporary_extend_date",
                      "description": "",
                      "schema": {
                        "type": "string"
                      }
                    },
                    {
                      "name": "temporary_extend_date_formatted",
                      "description": "",
                      "schema": {
                        "type": "string"
                      }
                    },
                    {
                      "name": "temporary_extend_hours",
                      "description": "",
                      "schema": {
                        "type": "number"
                      }
                    },
                    {
                      "name": "temporary_extend_log_id",
                      "description": "",
                      "schema": {
                        "type": "number"
                      }
                    },
                    {
                      "name": "user_id",
                      "description": "",
                      "schema": {
                        "type": "number"
                      }
                    },
                    {
                      "name": "username",
                      "description": "starts with 'I: ' for internet users",
                      "schema": {
                        "type": "string"
                      }
                    }
                  ]
                }
              }
            }
          ]
        }
      }
    },
    {
      "name": "report.delReports",
      "description": "",
      "auth_type": ["ADMIN"],
      "requires_perm": "DELETE REPORTS",
      "params": [
        {
          "name": "table",
          "description": "",
          "schema": {
            "type": "string"
          }
        },
        {
          "name": "date",
          "description": "datetime or number, ",
          "schema": {
            "type": "string"
          }
        },
        {
          "name": "date_unit",
          "description": "",
          "value": [
            "jalali",
            "gregorian",
            "years",
            "months",
            "days",
            "hours",
            "minutes"
          ]
        }
      ],
      "result": {
        "name": "Response (null)",
        "comment": "",
        "schema": {
          "title": "",
          "type": "null"
        }
      }
    },
    {
      "name": "report.autoCleanReports",
      "description": "",
      "auth_type": ["ADMIN"],
      "requires_perm": "DELETE REPORTS",
      "params": [
        {
          "name": "connection_log_clean",
          "description": "period",
          "schema": {
            "type": "number"
          }
        },
        {
          "name": "connection_log_unit",
          "description": "",
          "value": ["Seconds", "Minutes", "Hours", "Days", "Months", "Years"]
        },
        {
          "name": "credit_change_clean",
          "description": "relative time",
          "schema": {
            "type": "number"
          }
        },
        {
          "name": "credit_change_unit",
          "description": "relative time unit",
          "value": ["Seconds", "Minutes", "Hours", "Days", "Months", "Years"]
        },
        {
          "name": "user_audit_log_clean",
          "description": "relative time",
          "schema": {
            "type": "number"
          }
        },
        {
          "name": "user_audit_log_unit",
          "description": "relative time unit",
          "value": ["Seconds", "Minutes", "Hours", "Days", "Months", "Years"]
        },
        {
          "name": "snapshots_clean",
          "description": "relative time",
          "schema": {
            "type": "number"
          }
        },
        {
          "name": "snapshots_unit",
          "description": "relative time unit",
          "value": ["Seconds", "Minutes", "Hours", "Days", "Months", "Years"]
        },
        {
          "name": "bw_snapshots_clean",
          "description": "relative time",
          "schema": {
            "type": "number"
          }
        },
        {
          "name": "bw_snapshots_unit",
          "description": "relative time unit",
          "value": ["Seconds", "Minutes", "Hours", "Days", "Months", "Years"]
        },
        {
          "name": "web_analyzer_clean",
          "description": "relative time",
          "schema": {
            "type": "number"
          }
        },
        {
          "name": "web_analyzer_unit",
          "description": "relative time unit",
          "value": ["Seconds", "Minutes", "Hours", "Days", "Months", "Years"]
        }
      ],
      "result": {
        "name": "Response (null)",
        "comment": "",
        "schema": {
          "title": "",
          "type": "null"
        }
      }
    },
    {
      "name": "report.getAutoCleanDates",
      "description": "",
      "auth_type": ["ADMIN"],
      "requires_perm": "DELETE REPORTS",
      "params": [],
      "result": {
        "name": "Response (object)",
        "comment": "",
        "schema": {
          "title": "",
          "type": "object",
          "items": [
            {
              "name": "bw_snapshots",
              "description": "",
              "schema": {
                "type": "array",
                "items": [
                  {
                    "index": 0,
                    "title": "relative time",
                    "type": "int"
                  },
                  {
                    "index": 1,
                    "title": "relative time unit",
                    "value": [
                      "Seconds",
                      "Minutes",
                      "Hours",
                      "Days",
                      "Months",
                      "Years"
                    ]
                  }
                ],
                "length": "2"
              }
            },
            {
              "name": "connection_log",
              "description": "",
              "schema": {
                "type": "array",
                "items": [
                  {
                    "index": 0,
                    "title": "relative time",
                    "type": "int"
                  },
                  {
                    "index": 1,
                    "title": "relative time unit",
                    "value": [
                      "Seconds",
                      "Minutes",
                      "Hours",
                      "Days",
                      "Months",
                      "Years"
                    ]
                  }
                ],
                "length": "2"
              }
            },
            {
              "name": "credit_change",
              "description": "",
              "schema": {
                "type": "array",
                "items": [
                  {
                    "index": 0,
                    "title": "relative time",
                    "type": "int"
                  },
                  {
                    "index": 1,
                    "title": "relative time unit",
                    "value": [
                      "Seconds",
                      "Minutes",
                      "Hours",
                      "Days",
                      "Months",
                      "Years"
                    ]
                  }
                ],
                "length": "2"
              }
            },
            {
              "name": "snapshots",
              "description": "",
              "schema": {
                "type": "array",
                "items": [
                  {
                    "index": 0,
                    "title": "relative time",
                    "type": "int"
                  },
                  {
                    "index": 1,
                    "title": "relative time unit",
                    "value": [
                      "Seconds",
                      "Minutes",
                      "Hours",
                      "Days",
                      "Months",
                      "Years"
                    ]
                  }
                ],
                "length": "2"
              }
            },
            {
              "name": "user_audit_log",
              "description": "",
              "schema": {
                "type": "array",
                "items": [
                  {
                    "index": 0,
                    "title": "relative time",
                    "type": "int"
                  },
                  {
                    "index": 1,
                    "title": "relative time unit",
                    "value": [
                      "Seconds",
                      "Minutes",
                      "Hours",
                      "Days",
                      "Months",
                      "Years"
                    ]
                  }
                ],
                "length": "2"
              }
            },
            {
              "name": "web_analyzer_log",
              "description": "",
              "schema": {
                "type": "array",
                "items": [
                  {
                    "index": 0,
                    "title": "relative time",
                    "type": "int"
                  },
                  {
                    "index": 1,
                    "title": "relative time unit",
                    "value": [
                      "Seconds",
                      "Minutes",
                      "Hours",
                      "Days",
                      "Months",
                      "Years"
                    ]
                  }
                ],
                "length": "2"
              }
            }
          ]
        }
      }
    },
    {
      "name": "report.getManagementSummaryReport",
      "description": "",
      "auth_type": ["ADMIN"],
      "requires_perm": "SEE CONNECTION LOGS",
      "params": [
        {
          "name": "conds",
          "description": "",
          "schema": {
            "type": "object"
          }
        }
      ],
      "result": {
        "name": "Response (object)",
        "comment": "",
        "schema": {
          "title": "",
          "type": "object",
          "items": [
            {
              "name": "report",
              "description": "",
              "schema": {
                "type": "array",
                "items": {
                  "title": "",
                  "type": "list"
                }
              }
            }
          ]
        }
      }
    },
    {
      "name": "report.getSystemAuditLogs",
      "description": "",
      "auth_type": ["ADMIN"],
      "requires_perm": "SEE SYSTEM AUDIT LOGS",
      "params": [
        {
          "name": "conds",
          "description": "",
          "schema": {
            "type": "object"
          }
        },
        {
          "name": "from",
          "description": "start index, for pagination",
          "schema": {
            "type": "number"
          }
        },
        {
          "name": "to",
          "description": "end index, for pagination",
          "schema": {
            "type": "number"
          }
        },
        {
          "name": "sort_by",
          "description": "",
          "value": [
            "change_time",
            "object_id",
            "admin_id",
            "event",
            "category",
            "isp_id"
          ]
        },
        {
          "name": "desc",
          "description": "descending",
          "schema": {
            "type": "boolean"
          }
        }
      ],
      "result": {
        "name": "Response (object)",
        "comment": "",
        "schema": {
          "title": "",
          "type": "object",
          "items": [
            {
              "name": "total_rows",
              "description": "total number of rows",
              "schema": {
                "type": "number"
              }
            },
            {
              "name": "report",
              "description": "",
              "schema": {
                "type": "array",
                "items": {
                  "title": "",
                  "type": "object",
                  "params": [
                    {
                      "name": "admin_id",
                      "description": "",
                      "schema": {
                        "type": "number"
                      }
                    },
                    {
                      "name": "admin_name",
                      "description": "",
                      "schema": {
                        "type": "string"
                      }
                    },
                    {
                      "name": "attr_name",
                      "description": "",
                      "schema": {
                        "type": "string"
                      }
                    },
                    {
                      "name": "audit_log_id",
                      "description": "",
                      "schema": {
                        "type": "number"
                      }
                    },
                    {
                      "name": "category",
                      "description": "",
                      "value": [
                        "0",
                        "1",
                        "2",
                        "3",
                        "4",
                        "5",
                        "6",
                        "7",
                        "8",
                        "9",
                        "10",
                        "11",
                        "12"
                      ],
                      "value_comment": {
                        "0": "_NO_CATEGORY_",
                        "1": "RAS",
                        "2": "CHARGE",
                        "3": "ISP",
                        "4": "VOIP-TARIFF",
                        "5": "VOIP-PREFIX-GROUP",
                        "6": "ADMIN",
                        "7": "VOIP-PROVIDER",
                        "8": "VOIP-ROUTING-PROFILE",
                        "9": "VOIP-ROUTE",
                        "10": "VOIP-ROUTE-PREFIX",
                        "11": "ISP PAGE STYLE",
                        "12": "ONLINE-PAYMENT"
                      }
                    },
                    {
                      "name": "category_repr",
                      "description": "",
                      "value": [
                        "_NO_CATEGORY_",
                        "RAS",
                        "CHARGE",
                        "ISP",
                        "VOIP-TARIFF",
                        "VOIP-PREFIX-GROUP",
                        "ADMIN",
                        "VOIP-PROVIDER",
                        "VOIP-ROUTING-PROFILE",
                        "VOIP-ROUTE",
                        "VOIP-ROUTE-PREFIX",
                        "ISP PAGE STYLE",
                        "ONLINE-PAYMENT"
                      ]
                    },
                    {
                      "name": "change_time",
                      "description": "",
                      "schema": {
                        "type": "string"
                      }
                    },
                    {
                      "name": "change_time_formatted",
                      "description": "",
                      "schema": {
                        "type": "string"
                      }
                    },
                    {
                      "name": "event",
                      "description": "",
                      "value": ["1", "2", "3"],
                      "value_comment": {
                        "1": "ADD",
                        "2": "CHANGE",
                        "3": "DELETE"
                      }
                    },
                    {
                      "name": "event_repr",
                      "description": "",
                      "value": ["ADD", "CHANGE", "DELETE"]
                    },
                    {
                      "name": "isp_id",
                      "description": "",
                      "schema": {
                        "type": "number"
                      }
                    },
                    {
                      "name": "isp_name",
                      "description": "",
                      "schema": {
                        "type": "string"
                      }
                    },
                    {
                      "name": "new_value",
                      "description": "",
                      "schema": {
                        "type": "string"
                      }
                    },
                    {
                      "name": "object_id",
                      "description": "",
                      "schema": {
                        "type": "number"
                      }
                    },
                    {
                      "name": "object_repr",
                      "description": "",
                      "schema": {
                        "type": "string"
                      }
                    },
                    {
                      "name": "old_value",
                      "description": "",
                      "schema": {
                        "type": "string"
                      }
                    },
                    {
                      "name": "remote_ip",
                      "description": "",
                      "schema": {
                        "type": "string"
                      }
                    }
                  ]
                }
              }
            }
          ]
        }
      }
    },
    {
      "name": "report.getOnlinePaymentReport",
      "description": "",
      "auth_type": ["ADMIN", "NORMAL_USER", "VOIP_USER"],
      "params": [
        {
          "name": "conds",
          "description": "",
          "schema": {
            "type": "object"
          }
        },
        {
          "name": "from",
          "description": "start index, for pagination",
          "schema": {
            "type": "number"
          }
        },
        {
          "name": "to",
          "description": "end index, for pagination",
          "schema": {
            "type": "number"
          }
        },
        {
          "name": "sort_by",
          "description": "",
          "value": [
            "payment_id",
            "gateway_id",
            "unique_id",
            "amount",
            "payment_date",
            "requester_id",
            "requester_type",
            "succeed"
          ]
        },
        {
          "name": "desc",
          "description": "descending",
          "schema": {
            "type": "boolean"
          }
        }
      ],
      "result": {
        "name": "Response (object)",
        "comment": "",
        "schema": {
          "title": "",
          "type": "object",
          "items": [
            {
              "name": "total_rows",
              "description": "total number of rows",
              "schema": {
                "type": "number"
              }
            },
            {
              "name": "report",
              "description": "",
              "schema": {
                "type": "array",
                "items": {
                  "title": "",
                  "type": "object",
                  "params": [
                    {
                      "name": "amount",
                      "description": "",
                      "schema": {
                        "type": "number"
                      }
                    },
                    {
                      "name": "details",
                      "description": "",
                      "schema": {
                        "type": "array",
                        "items": {
                          "title": "",
                          "type": "object",
                          "params": [
                            {
                              "name": "comment",
                              "description": "",
                              "schema": {
                                "type": "string"
                              }
                            },
                            {
                              "name": "log_date",
                              "description": "",
                              "schema": {
                                "type": "string"
                              }
                            },
                            {
                              "name": "log_id",
                              "description": "",
                              "schema": {
                                "type": "number"
                              }
                            },
                            {
                              "name": "payment_id",
                              "description": "",
                              "schema": {
                                "type": "number"
                              }
                            },
                            {
                              "name": "result_code",
                              "description": "0 if successfull, otherwise Bank's error code",
                              "schema": {
                                "type": "number"
                              }
                            },
                            {
                              "name": "result_text",
                              "description": "'Successful' or text of error",
                              "schema": {
                                "type": "string"
                              }
                            },
                            {
                              "name": "stage_name",
                              "description": "",
                              "value": [
                                "Prepare",
                                "Settle",
                                "Verify",
                                "After-Verify"
                              ],
                              "value_comment": {
                                "Settle": "for Bank Mellat only",
                                "After-Verify": "only if there was an error after Verify stage"
                              }
                            }
                          ]
                        }
                      }
                    },
                    {
                      "name": "gateway_id",
                      "description": "",
                      "schema": {
                        "type": "number"
                      }
                    },
                    {
                      "name": "gateway_name",
                      "description": "",
                      "schema": {
                        "type": "string"
                      }
                    },
                    {
                      "name": "isp_id",
                      "description": "",
                      "schema": {
                        "type": "number"
                      }
                    },
                    {
                      "name": "log_id",
                      "description": "",
                      "schema": {
                        "type": "number"
                      }
                    },
                    {
                      "name": "payment_date",
                      "description": "",
                      "schema": {
                        "type": "string"
                      }
                    },
                    {
                      "name": "payment_id",
                      "description": "",
                      "schema": {
                        "type": "number"
                      }
                    },
                    {
                      "name": "reference_id",
                      "description": "",
                      "schema": {
                        "type": "string"
                      }
                    },
                    {
                      "name": "requester_id",
                      "description": "",
                      "schema": {
                        "type": "number"
                      }
                    },
                    {
                      "name": "requester_type",
                      "description": "",
                      "value": ["USER", "ADMIN"]
                    },
                    {
                      "name": "succeed",
                      "description": "",
                      "value": ["t", "f"],
                      "value_comment": {
                        "t": "true",
                        "f": "false"
                      }
                    },
                    {
                      "name": "unique_id",
                      "description": "",
                      "schema": {
                        "type": "string"
                      }
                    },
                    {
                      "name": "username",
                      "description": "user's username",
                      "schema": {
                        "type": "string"
                      }
                    },
                    {
                      "name": "name",
                      "description": "user's full name",
                      "schema": {
                        "type": "string"
                      }
                    }
                  ]
                }
              }
            }
          ]
        }
      }
    },
    {
      "name": "report.saveConnections",
      "description": "use SystemNotification.getNotifications() method to see if the report is finished         and get the URL to download it",
      "auth_type": ["ADMIN"],
      "requires_perm": "SEE CONNECTION LOGS",
      "params": [
        {
          "name": "conds",
          "description": "the same as 'report.getConnections' method",
          "schema": {
            "type": "object"
          }
        },
        {
          "name": "from",
          "description": "start index, for pagination",
          "schema": {
            "type": "number"
          }
        },
        {
          "name": "to",
          "description": "end index, for pagination",
          "schema": {
            "type": "number"
          }
        },
        {
          "name": "sort_by",
          "description": "",
          "value": [
            "user_id",
            "credit_used",
            "login_time",
            "logout_time",
            "successful",
            "service",
            "ras_id",
            "connection_log_id"
          ]
        },
        {
          "name": "desc",
          "description": "descending",
          "schema": {
            "type": "boolean"
          }
        }
      ],
      "result": {
        "name": "Response (null)",
        "comment": "",
        "schema": {
          "title": "",
          "type": "null"
        }
      }
    },
    {
      "name": "report.saveConnectionUsages",
      "description": "use SystemNotification.getNotifications() method to see if the report is finished         and get the URL to download it",
      "auth_type": ["ADMIN"],
      "requires_perm": "SEE CONNECTION LOGS",
      "params": [
        {
          "name": "report_type",
          "description": "",
          "value": ["inout_usages", "credit_usages", "time_usages"]
        },
        {
          "name": "conds",
          "description": "the same as 'report.getConnections' method",
          "schema": {
            "type": "object"
          }
        },
        {
          "name": "cols",
          "description": "",
          "schema": {
            "type": "array",
            "items": {
              "title": "",
              "value": [
                "user_id",
                "user_name",
                "serial",
                "group_name",
                "isp_name",
                "creation_date",
                "name"
              ]
            }
          }
        },
        {
          "name": "sort_by",
          "description": "",
          "value": ["creation_date", "normal_username", "sum"]
        },
        {
          "name": "output_type",
          "description": "",
          "value": ["csv", "pdf"]
        }
      ],
      "result": {
        "name": "Response (null)",
        "comment": "",
        "schema": {
          "title": "",
          "type": "null"
        }
      }
    },
    {
      "name": "report.savePrefixNameUsage",
      "description": "use SystemNotification.getNotifications() method to see if the report is finished and get the URL to download it",
      "auth_type": ["ADMIN"],
      "requires_perm": "SEE CONNECTION LOGS",
      "params": [
        {
          "name": "conds",
          "description": "the same as 'report.getConnections' method",
          "schema": {
            "type": "object"
          }
        },
        {
          "name": "order_by",
          "description": "",
          "value": [
            "prefix_name",
            "prefix_code",
            "duration_sum",
            "count",
            "credit"
          ]
        },
        {
          "name": "desc",
          "description": "descending",
          "schema": {
            "type": "boolean"
          }
        },
        {
          "name": "output_type",
          "description": "",
          "value": ["csv", "pdf"]
        }
      ],
      "result": {
        "name": "Response (null)",
        "comment": "",
        "schema": {
          "title": "",
          "type": "null"
        }
      }
    },
    {
      "name": "report.saveOnlinePaymentReport",
      "description": "use SystemNotification.getNotifications() method to see if the report is finished and get the URL to download it",
      "auth_type": ["ADMIN"],
      "requires_perm": "SEE CONNECTION LOGS",
      "params": [
        {
          "name": "conds",
          "description": "the same as 'report.getOnlinePaymentReport' method",
          "schema": {
            "type": "object"
          }
        },
        {
          "name": "sort_by",
          "description": "",
          "value": [
            "payment_id",
            "gateway_id",
            "unique_id",
            "amount",
            "payment_date",
            "requester_id",
            "requester_type",
            "succeed"
          ]
        },
        {
          "name": "desc",
          "description": "descending",
          "schema": {
            "type": "boolean"
          }
        },
        {
          "name": "output_type",
          "description": "",
          "value": ["csv", "pdf"]
        }
      ],
      "result": {
        "name": "Response (null)",
        "comment": "",
        "schema": {
          "title": "",
          "type": "null"
        }
      }
    },
    {
      "name": "report.getDayNightUsage",
      "description": "",
      "auth_type": ["ADMIN"],
      "requires_perm": "GOD",
      "params": [
        {
          "name": "start_date",
          "description": "gregorian date, format '%Y-%m-%d'",
          "schema": {
            "type": "string"
          }
        },
        {
          "name": "end_date",
          "description": "gregorian date, format '%Y-%m-%d'",
          "schema": {
            "type": "string"
          }
        },
        {
          "name": "nightly_charge_rule_ids",
          "description": "list of Charge Rule IDs that are Nightly (Free)",
          "schema": {
            "type": "array"
          }
        }
      ],
      "result": {
        "name": "Response (object)",
        "comment": "",
        "schema": {
          "title": "",
          "type": "object",
          "items": [
            {
              "name": "night_download",
              "description": "in bytes",
              "schema": {
                "type": "number"
              }
            },
            {
              "name": "night_upload",
              "description": "in bytes",
              "schema": {
                "type": "number"
              }
            },
            {
              "name": "day_download",
              "description": "in bytes",
              "schema": {
                "type": "number"
              }
            },
            {
              "name": "day_upload",
              "description": "in bytes",
              "schema": {
                "type": "number"
              }
            }
          ]
        }
      }
    }
  ]
}
